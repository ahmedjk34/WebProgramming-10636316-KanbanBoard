<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Theme Fix Test</title>
    <link rel="stylesheet" href="css/styles.css" />
    <style>
      body {
        padding: 20px;
        font-family: Arial, sans-serif;
      }
      .test-container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 8px;
      }
      .theme-info {
        background: #f5f5f5;
        padding: 15px;
        border-radius: 5px;
        margin: 20px 0;
      }
      [data-theme="dark"] .theme-info {
        background: #333;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <div class="test-container">
      <h1>Theme Button Fix Test</h1>

      <div class="theme-info">
        <h3>Current Theme Status:</h3>
        <p>Theme: <span id="current-theme">Loading...</span></p>
        <p>LocalStorage: <span id="localstorage-theme">Loading...</span></p>
      </div>

      <button
        id="theme-toggle"
        class="theme-toggle"
        title="Toggle Dark/Light Mode"
      >
        <span id="theme-icon">üåô</span>
      </button>

      <p>Click the theme button above to test the functionality.</p>

      <div style="margin-top: 20px">
        <a href="index.html">Test Index.html</a> |
        <a href="teams.html">Test Teams.html</a> |
        <a href="login.html">Test Login.html</a>
      </div>
    </div>

    <script src="utils/js-utils.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize theme
        const savedTheme = localStorage.getItem("theme") || "light";
        if (typeof window.initializeTheme === "function") {
          window.initializeTheme(savedTheme);
        } else {
          // Fallback theme initialization
          document.documentElement.setAttribute("data-theme", savedTheme);
          const themeIcon = document.getElementById("theme-icon");
          if (themeIcon) {
            themeIcon.textContent = savedTheme === "light" ? "üåô" : "‚òÄÔ∏è";
          }
        }

        // Setup theme toggle
        const themeToggle = document.getElementById("theme-toggle");
        if (themeToggle) {
          themeToggle.addEventListener("click", () => {
            const currentTheme =
              document.documentElement.getAttribute("data-theme") || "light";
            if (typeof window.toggleTheme === "function") {
              window.toggleTheme(currentTheme);
            } else {
              // Fallback theme toggle
              const newTheme = currentTheme === "light" ? "dark" : "light";
              document.documentElement.setAttribute("data-theme", newTheme);
              localStorage.setItem("theme", newTheme);
              const themeIcon = document.getElementById("theme-icon");
              if (themeIcon) {
                themeIcon.textContent = newTheme === "light" ? "üåô" : "‚òÄÔ∏è";
              }
            }
            updateThemeInfo();
          });
        }

        function updateThemeInfo() {
          const currentTheme =
            document.documentElement.getAttribute("data-theme") || "light";
          const localStorageTheme = localStorage.getItem("theme") || "light";

          document.getElementById("current-theme").textContent = currentTheme;
          document.getElementById("localstorage-theme").textContent =
            localStorageTheme;
        }

        // Initial update
        updateThemeInfo();
      });
    </script>
  </body>
</html>

