<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Team API Testing - Kanban Board</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
      }

      .header p {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .content {
        padding: 30px;
      }

      .test-section {
        margin-bottom: 40px;
        padding: 25px;
        background: #f8f9fa;
        border-radius: 15px;
        border-left: 5px solid #667eea;
      }

      .test-section h2 {
        color: #333;
        margin-bottom: 20px;
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .test-section h2::before {
        content: "ðŸ§ª";
        font-size: 1.2rem;
      }

      .button-group {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-bottom: 20px;
      }

      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        text-align: center;
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      }

      .btn-success {
        background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        color: white;
      }

      .btn-success:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(46, 204, 113, 0.4);
      }

      .btn-warning {
        background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
        color: white;
      }

      .btn-warning:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(243, 156, 18, 0.4);
      }

      .btn-danger {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        color: white;
      }

      .btn-danger:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
      }

      .btn-info {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        color: white;
      }

      .btn-info:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
        color: #333;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        font-size: 14px;
        transition: border-color 0.3s ease;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #667eea;
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
      }

      .result-area {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        font-family: "Courier New", monospace;
        font-size: 13px;
        max-height: 300px;
        overflow-y: auto;
        white-space: pre-wrap;
        margin-top: 20px;
      }

      .status {
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        margin-left: 10px;
      }

      .status.success {
        background: #d4edda;
        color: #155724;
      }

      .status.error {
        background: #f8d7da;
        color: #721c24;
      }

      .status.loading {
        background: #d1ecf1;
        color: #0c5460;
      }

      .team-card {
        background: white;
        border-radius: 10px;
        padding: 20px;
        margin: 10px 0;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        border-left: 4px solid #667eea;
      }

      .team-card h3 {
        color: #333;
        margin-bottom: 10px;
      }

      .team-info {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
        margin-bottom: 15px;
      }

      .team-info span {
        background: #f8f9fa;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 12px;
      }

      .workspace-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .workspace-card {
        background: white;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        border-left: 3px solid #2ecc71;
      }

      .workspace-card h4 {
        color: #333;
        margin-bottom: 8px;
      }

      .workspace-type {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 10px;
        font-weight: 600;
        text-transform: uppercase;
      }

      .workspace-type.personal {
        background: #e3f2fd;
        color: #1976d2;
      }

      .workspace-type.team {
        background: #f3e5f5;
        color: #7b1fa2;
      }

      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid #f3f3f3;
        border-top: 3px solid #667eea;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-right: 10px;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .alert {
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
        font-weight: 600;
      }

      .alert-info {
        background: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
      }

      .alert-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }

      .alert-warning {
        background: #fff3cd;
        color: #856404;
        border: 1px solid #ffeaa7;
      }

      .alert-danger {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ðŸ§ª Team API Testing</h1>
        <p>
          Comprehensive testing interface for all team-related API endpoints
        </p>
      </div>

      <div class="content">
        <!-- Authentication Status -->
        <div class="alert alert-info">
          <strong>Note:</strong> This test page requires you to be logged in.
          Please ensure you're authenticated before testing the APIs.
        </div>

        <!-- Test Section 1: Get Teams -->
        <div class="test-section">
          <h2>Get Teams</h2>
          <p>Retrieve all teams that the current user is a member of.</p>
          <div class="button-group">
            <button class="btn btn-primary" onclick="getTeams()">
              <span
                class="loading"
                id="loading-teams"
                style="display: none"
              ></span>
              Get My Teams
            </button>
          </div>
          <div
            id="teams-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 2: Create Team -->
        <div class="test-section">
          <h2>Create Team</h2>
          <p>Create a new team and become the owner.</p>
          <div class="form-row">
            <div class="form-group">
              <label for="team-name">Team Name *</label>
              <input
                type="text"
                id="team-name"
                placeholder="Enter team name"
                value="Test Team API"
              />
            </div>
            <div class="form-group">
              <label for="team-color">Team Color</label>
              <input type="color" id="team-color" value="#ff6b6b" />
            </div>
          </div>
          <div class="form-group">
            <label for="team-description">Description</label>
            <textarea
              id="team-description"
              rows="3"
              placeholder="Enter team description"
            >
Team created via API testing interface</textarea
            >
          </div>
          <div class="button-group">
            <button class="btn btn-success" onclick="createTeam()">
              <span
                class="loading"
                id="loading-create-team"
                style="display: none"
              ></span>
              Create Team
            </button>
          </div>
          <div
            id="create-team-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 3: Update Team -->
        <div class="test-section">
          <h2>Update Team</h2>
          <p>
            Update an existing team's information (requires owner or admin
            role).
          </p>
          <div class="form-row">
            <div class="form-group">
              <label for="update-team-id">Team ID</label>
              <input
                type="number"
                id="update-team-id"
                placeholder="Enter team ID"
              />
            </div>
            <div class="form-group">
              <label for="update-team-name">New Name</label>
              <input
                type="text"
                id="update-team-name"
                placeholder="Enter new team name"
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="update-team-color">New Color</label>
              <input type="color" id="update-team-color" value="#4ecdc4" />
            </div>
            <div class="form-group">
              <label for="update-team-description">New Description</label>
              <input
                type="text"
                id="update-team-description"
                placeholder="Enter new description"
              />
            </div>
          </div>
          <div class="button-group">
            <button class="btn btn-warning" onclick="updateTeam()">
              <span
                class="loading"
                id="loading-update-team"
                style="display: none"
              ></span>
              Update Team
            </button>
          </div>
          <div
            id="update-team-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 4: Create Team Workspace -->
        <div class="test-section">
          <h2>Create Team Workspace</h2>
          <p>Create a new workspace for a specific team.</p>
          <div class="form-row">
            <div class="form-group">
              <label for="workspace-team-id">Team ID *</label>
              <input
                type="number"
                id="workspace-team-id"
                placeholder="Enter team ID"
                value="1"
              />
            </div>
            <div class="form-group">
              <label for="workspace-name">Workspace Name *</label>
              <input
                type="text"
                id="workspace-name"
                placeholder="Enter workspace name"
                value="API Test Workspace"
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="workspace-color">Color</label>
              <input type="color" id="workspace-color" value="#45b7d1" />
            </div>
            <div class="form-group">
              <label for="workspace-icon">Icon</label>
              <input
                type="text"
                id="workspace-icon"
                placeholder="Enter emoji icon"
                value="ðŸ§ª"
              />
            </div>
          </div>
          <div class="form-group">
            <label for="workspace-description">Description</label>
            <textarea
              id="workspace-description"
              rows="2"
              placeholder="Enter workspace description"
            >
Workspace created via API testing</textarea
            >
          </div>
          <div class="button-group">
            <button class="btn btn-info" onclick="createTeamWorkspace()">
              <span
                class="loading"
                id="loading-create-workspace"
                style="display: none"
              ></span>
              Create Team Workspace
            </button>
          </div>
          <div
            id="create-workspace-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 5: Invite Team Member -->
        <div class="test-section">
          <h2>Invite Team Member</h2>
          <p>Invite a user to join a team with a specific role.</p>
          <div class="form-row">
            <div class="form-group">
              <label for="invite-team-id">Team ID *</label>
              <input
                type="number"
                id="invite-team-id"
                placeholder="Enter team ID"
                value="1"
              />
            </div>
            <div class="form-group">
              <label for="invite-user-id">User ID *</label>
              <input
                type="number"
                id="invite-user-id"
                placeholder="Enter user ID"
                value="1"
              />
            </div>
          </div>
          <div class="form-group">
            <label for="invite-role">Role *</label>
            <select id="invite-role">
              <option value="member">Member</option>
              <option value="admin">Admin</option>
              <option value="viewer">Viewer</option>
            </select>
          </div>
          <div class="button-group">
            <button class="btn btn-success" onclick="inviteMember()">
              <span
                class="loading"
                id="loading-invite"
                style="display: none"
              ></span>
              Invite Member
            </button>
          </div>
          <div
            id="invite-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 6: Remove Team Member -->
        <div class="test-section">
          <h2>Remove Team Member</h2>
          <p>Remove a user from a team (requires owner or admin role).</p>
          <div class="form-row">
            <div class="form-group">
              <label for="remove-team-id">Team ID *</label>
              <input
                type="number"
                id="remove-team-id"
                placeholder="Enter team ID"
                value="1"
              />
            </div>
            <div class="form-group">
              <label for="remove-user-id">User ID *</label>
              <input
                type="number"
                id="remove-user-id"
                placeholder="Enter user ID to remove"
              />
            </div>
          </div>
          <div class="button-group">
            <button class="btn btn-danger" onclick="removeMember()">
              <span
                class="loading"
                id="loading-remove"
                style="display: none"
              ></span>
              Remove Member
            </button>
          </div>
          <div
            id="remove-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 7: Delete Team -->
        <div class="test-section">
          <h2>Delete Team</h2>
          <p>Soft delete a team (requires owner role).</p>
          <div class="form-group">
            <label for="delete-team-id">Team ID *</label>
            <input
              type="number"
              id="delete-team-id"
              placeholder="Enter team ID to delete"
            />
          </div>
          <div class="button-group">
            <button class="btn btn-danger" onclick="deleteTeam()">
              <span
                class="loading"
                id="loading-delete"
                style="display: none"
              ></span>
              Delete Team
            </button>
          </div>
          <div
            id="delete-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 8: Get Workspaces (Enhanced) -->
        <div class="test-section">
          <h2>Get Workspaces (Enhanced)</h2>
          <p>Retrieve all workspaces including personal and team workspaces.</p>
          <div class="button-group">
            <button class="btn btn-primary" onclick="getWorkspaces()">
              <span
                class="loading"
                id="loading-workspaces"
                style="display: none"
              ></span>
              Get All Workspaces
            </button>
          </div>
          <div
            id="workspaces-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 9: Get Projects (Enhanced) -->
        <div class="test-section">
          <h2>Get Projects (Enhanced)</h2>
          <p>
            Retrieve projects for a specific workspace including team projects.
          </p>
          <div class="form-row">
            <div class="form-group">
              <label for="projects-workspace-id">Workspace ID</label>
              <input
                type="number"
                id="projects-workspace-id"
                placeholder="Enter workspace ID"
                value="4"
              />
            </div>
            <div class="form-group">
              <label>&nbsp;</label>
              <button class="btn btn-info" onclick="getProjects()">
                <span
                  class="loading"
                  id="loading-projects"
                  style="display: none"
                ></span>
                Get Projects
              </button>
            </div>
          </div>
          <div
            id="projects-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 10: Get Tasks (Enhanced) -->
        <div class="test-section">
          <h2>Get Tasks (Enhanced)</h2>
          <p>
            Retrieve tasks for a specific workspace including team tasks with
            assignment info.
          </p>
          <div class="form-row">
            <div class="form-group">
              <label for="tasks-workspace-id">Workspace ID</label>
              <input
                type="number"
                id="tasks-workspace-id"
                placeholder="Enter workspace ID"
                value="4"
              />
            </div>
            <div class="form-group">
              <label>&nbsp;</label>
              <button class="btn btn-info" onclick="getTasks()">
                <span
                  class="loading"
                  id="loading-tasks"
                  style="display: none"
                ></span>
                Get Tasks
              </button>
            </div>
          </div>
          <div
            id="tasks-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>

        <!-- Test Section 11: Run All Tests -->
        <div class="test-section">
          <h2>Run All Tests</h2>
          <p>
            Execute all API tests in sequence to verify complete functionality.
          </p>
          <div class="button-group">
            <button class="btn btn-success" onclick="runAllTests()">
              <span
                class="loading"
                id="loading-all-tests"
                style="display: none"
              ></span>
              Run All Tests
            </button>
          </div>
          <div
            id="all-tests-result"
            class="result-area"
            style="display: none"
          ></div>
        </div>
      </div>
    </div>

    <script>
      // Utility functions
      function showLoading(elementId) {
        const loadingElement = document.getElementById(elementId);
        if (loadingElement) {
          loadingElement.style.display = "inline-block";
        }
      }

      function hideLoading(elementId) {
        const loadingElement = document.getElementById(elementId);
        if (loadingElement) {
          loadingElement.style.display = "none";
        }
      }

      function showResult(elementId, data) {
        const resultElement = document.getElementById(elementId);
        if (resultElement) {
          resultElement.style.display = "block";
          resultElement.textContent = JSON.stringify(data, null, 2);
        }
      }

      function hideResult(elementId) {
        const resultElement = document.getElementById(elementId);
        if (resultElement) {
          resultElement.style.display = "none";
        }
      }

      async function makeRequest(url, options = {}) {
        try {
          const response = await fetch(url, {
            headers: {
              "Content-Type": "application/json",
              ...options.headers,
            },
            ...options,
          });

          const data = await response.json();
          return {
            success: response.ok,
            status: response.status,
            data: data,
          };
        } catch (error) {
          return {
            success: false,
            status: 0,
            data: { error: error.message },
          };
        }
      }

      // API Test Functions
      async function getTeams() {
        showLoading("loading-teams");
        hideResult("teams-result");

        const result = await makeRequest("php/api/teams/get_teams.php");

        hideLoading("loading-teams");
        showResult("teams-result", result);

        if (result.success && result.data.teams) {
          console.log("Teams loaded:", result.data.teams);
        }
      }

      async function createTeam() {
        showLoading("loading-create-team");
        hideResult("create-team-result");

        const teamData = {
          name: document.getElementById("team-name").value,
          description: document.getElementById("team-description").value,
          color: document.getElementById("team-color").value,
        };

        const result = await makeRequest("php/api/teams/create_team.php", {
          method: "POST",
          body: JSON.stringify(teamData),
        });

        hideLoading("loading-create-team");
        showResult("create-team-result", result);

        if (result.success) {
          // Auto-fill the update team form with the new team ID
          const teamId = result.data.team?.id;
          if (teamId) {
            document.getElementById("update-team-id").value = teamId;
            document.getElementById("delete-team-id").value = teamId;
          }
        }
      }

      async function updateTeam() {
        showLoading("loading-update-team");
        hideResult("update-team-result");

        const teamId = document.getElementById("update-team-id").value;
        if (!teamId) {
          hideLoading("loading-update-team");
          showResult("update-team-result", { error: "Team ID is required" });
          return;
        }

        const updateData = {
          id: parseInt(teamId),
        };

        if (document.getElementById("update-team-name").value) {
          updateData.name = document.getElementById("update-team-name").value;
        }
        if (document.getElementById("update-team-color").value) {
          updateData.color = document.getElementById("update-team-color").value;
        }
        if (document.getElementById("update-team-description").value) {
          updateData.description = document.getElementById(
            "update-team-description"
          ).value;
        }

        const result = await makeRequest("php/api/teams/update_team.php", {
          method: "POST",
          body: JSON.stringify(updateData),
        });

        hideLoading("loading-update-team");
        showResult("update-team-result", result);
      }

      async function createTeamWorkspace() {
        showLoading("loading-create-workspace");
        hideResult("create-workspace-result");

        const workspaceData = {
          team_id: parseInt(document.getElementById("workspace-team-id").value),
          name: document.getElementById("workspace-name").value,
          description: document.getElementById("workspace-description").value,
          color: document.getElementById("workspace-color").value,
          icon: document.getElementById("workspace-icon").value,
        };

        const result = await makeRequest(
          "php/api/teams/create_team_workspace.php",
          {
            method: "POST",
            body: JSON.stringify(workspaceData),
          }
        );

        hideLoading("loading-create-workspace");
        showResult("create-workspace-result", result);
      }

      async function inviteMember() {
        showLoading("loading-invite");
        hideResult("invite-result");

        const inviteData = {
          team_id: parseInt(document.getElementById("invite-team-id").value),
          user_id: parseInt(document.getElementById("invite-user-id").value),
          role: document.getElementById("invite-role").value,
        };

        const result = await makeRequest("php/api/teams/invite_member.php", {
          method: "POST",
          body: JSON.stringify(inviteData),
        });

        hideLoading("loading-invite");
        showResult("invite-result", result);
      }

      async function removeMember() {
        showLoading("loading-remove");
        hideResult("remove-result");

        const removeData = {
          team_id: parseInt(document.getElementById("remove-team-id").value),
          member_id: parseInt(document.getElementById("remove-user-id").value),
        };

        const result = await makeRequest("php/api/teams/remove_member.php", {
          method: "POST",
          body: JSON.stringify(removeData),
        });

        hideLoading("loading-remove");
        showResult("remove-result", result);
      }

      async function deleteTeam() {
        showLoading("loading-delete");
        hideResult("delete-result");

        const teamId = document.getElementById("delete-team-id").value;
        if (!teamId) {
          hideLoading("loading-delete");
          showResult("delete-result", { error: "Team ID is required" });
          return;
        }

        const result = await makeRequest("php/api/teams/delete_team.php", {
          method: "POST",
          body: JSON.stringify({ id: parseInt(teamId) }),
        });

        hideLoading("loading-delete");
        showResult("delete-result", result);
      }

      async function getWorkspaces() {
        showLoading("loading-workspaces");
        hideResult("workspaces-result");

        const result = await makeRequest(
          "php/api/workspaces/get_workspaces.php"
        );

        hideLoading("loading-workspaces");
        showResult("workspaces-result", result);

        if (result.success && result.data.workspaces) {
          console.log("Workspaces loaded:", result.data.workspaces);
        }
      }

      async function getProjects() {
        showLoading("loading-projects");
        hideResult("projects-result");

        const workspaceId = document.getElementById(
          "projects-workspace-id"
        ).value;
        const result = await makeRequest(
          `php/api/projects/get_projects.php?workspace_id=${workspaceId}`
        );

        hideLoading("loading-projects");
        showResult("projects-result", result);

        if (result.success && result.data.projects) {
          console.log("Projects loaded:", result.data.projects);
        }
      }

      async function getTasks() {
        showLoading("loading-tasks");
        hideResult("tasks-result");

        const workspaceId = document.getElementById("tasks-workspace-id").value;
        const result = await makeRequest(
          `php/api/tasks/get_tasks.php?workspace_id=${workspaceId}`
        );

        hideLoading("loading-tasks");
        showResult("tasks-result", result);

        if (result.success && result.data.tasks) {
          console.log("Tasks loaded:", result.data.tasks);
        }
      }

      async function runAllTests() {
        showLoading("loading-all-tests");
        hideResult("all-tests-result");

        const results = {
          timestamp: new Date().toISOString(),
          tests: {},
        };

        // Test 1: Get Teams
        console.log("Running test: Get Teams");
        const teamsResult = await makeRequest("php/api/teams/get_teams.php");
        results.tests.getTeams = teamsResult;

        // Test 2: Create Team
        console.log("Running test: Create Team");
        const createTeamData = {
          name: "Auto Test Team",
          description: "Team created by automated test",
          color: "#ff6b6b",
        };
        const createTeamResult = await makeRequest(
          "php/api/teams/create_team.php",
          {
            method: "POST",
            body: JSON.stringify(createTeamData),
          }
        );
        results.tests.createTeam = createTeamResult;

        // Test 3: Get Workspaces
        console.log("Running test: Get Workspaces");
        const workspacesResult = await makeRequest(
          "php/api/workspaces/get_workspaces.php"
        );
        results.tests.getWorkspaces = workspacesResult;

        // Test 4: Get Projects (workspace 4)
        console.log("Running test: Get Projects");
        const projectsResult = await makeRequest(
          "php/api/projects/get_projects.php?workspace_id=4"
        );
        results.tests.getProjects = projectsResult;

        // Test 5: Get Tasks (workspace 4)
        console.log("Running test: Get Tasks");
        const tasksResult = await makeRequest(
          "php/api/tasks/get_tasks.php?workspace_id=4"
        );
        results.tests.getTasks = tasksResult;

        hideLoading("loading-all-tests");
        showResult("all-tests-result", results);

        // Summary
        const successCount = Object.values(results.tests).filter(
          (test) => test.success
        ).length;
        const totalCount = Object.keys(results.tests).length;
        console.log(
          `All tests completed: ${successCount}/${totalCount} successful`
        );
      }

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        console.log("Team API Testing page loaded");
        console.log("Available test functions:");
        console.log("- getTeams()");
        console.log("- createTeam()");
        console.log("- updateTeam()");
        console.log("- createTeamWorkspace()");
        console.log("- inviteMember()");
        console.log("- removeMember()");
        console.log("- deleteTeam()");
        console.log("- getWorkspaces()");
        console.log("- getProjects()");
        console.log("- getTasks()");
        console.log("- runAllTests()");
      });
    </script>
  </body>
</html>
